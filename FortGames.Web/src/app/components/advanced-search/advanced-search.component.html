<div class="py-3">
  <h1 class="mat-display-1 mb-0">Advanced Search</h1>
  <hr>
</div>

<mat-form-field appearance="outline" class="d-flex">
  <mat-label>Search</mat-label>
  <input matInput placeholder="Enter a search term here" type="text" [(ngModel)]="value" (keyup)="searchFilter($event)" #input>
  <button *ngIf="value" mat-icon-button (click)="value=''"><mat-icon>close</mat-icon></button>
</mat-form-field>

<mat-tab-group animationDuration="0">
  <mat-tab label="Platforms">
    <div class="py-4 platforms px-3 mb-3">
      <mat-chip-list multiple>
        <mat-chip #c="matChip" *ngFor="let platform of platforms" (click)="toggle(c)" [value]="platform">
          {{ platform.name }}
        </mat-chip>
      </mat-chip-list>
    </div>
  </mat-tab>

  <mat-tab label="Years">Content...</mat-tab>
  <mat-tab label="Genre">Content...</mat-tab>
  <mat-tab label="Rating">Content...</mat-tab>
  <mat-tab label="Mode">Content...</mat-tab>
  <mat-tab label="Companies">Content...</mat-tab>
</mat-tab-group>

<div>
  <mat-chip-list>
    <mat-chip *ngFor="let chip of chips" (removed)="remove(chip)">
      {{ chip.name }}
      <button matChipRemove>
        <mat-icon>cancel</mat-icon>
      </button>
    </mat-chip>
  </mat-chip-list>
</div>

<div class="d-flex justify-content-between align-items-center mt-3">
  <div matSort (matSortChange)="sortChange($event)" class="d-flex gap-2">

    <button mat-flat-button>
      <div mat-sort-header="Logo">Logo</div>
    </button>
    <button mat-flat-button>
      <div mat-sort-header="Title">Title</div>
    </button>
    <button mat-flat-button>
      <div mat-sort-header="Release">Release</div>
    </button>
    <button mat-flat-button>
      <div mat-sort-header="Rating">Rating</div>
    </button>
    <button mat-flat-button>
      <div mat-sort-header="Platforms">Platforms</div>
    </button>

  </div>
  <div class="d-flex align-items-center gap-3">
    <div class="text-muted">Display options:</div>
    <button mat-mini-fab color="accent"><mat-icon>view_day</mat-icon></button>
    <button mat-mini-fab color="accent"><mat-icon>apps</mat-icon></button>
  </div>
</div>

<div class="row">

  <div *ngFor="let game of filteredData; let i=index" class="col-lg-3 g-4">
    <div class="card bg-dark" style="border: 0;">
      <img src="./../../../assets/mario.jpg" class="card-img-top">
      <div class="card-body">
        <div class="d-flex justify-content-center"></div>
        <h2 class="card-title">{{game.title}}</h2>
        <p class="card-text">{{game.description}}</p>
        <div *ngFor="let p of game.platforms; let i=index">{{p.name}}</div>
      </div>
    </div>
  </div>
</div>


<mat-paginator [pageSizeOptions]="pageSizeOptions" [pageSize]="params.size" [length]="total"
  (page)="pageChanged($event)" color="accent">
</mat-paginator>

<!-- <div *ngIf="dataSource">

  <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortChange($event)" class="w-100">

    <ng-container matColumnDef="Logo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Logo</th>
      <td mat-cell *matCellDef="let element"><img src="https://source.unsplash.com/100x100/?{{element.company}}"> {{element.title}}</td>
    </ng-container>

    <ng-container matColumnDef="Title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
      <td mat-cell *matCellDef="let element">{{element.title}}</td>
    </ng-container>

    <ng-container matColumnDef="Release">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Release</th>
      <td mat-cell *matCellDef="let element">{{element.release}}</td>
    </ng-container>

    <ng-container matColumnDef="Rating">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Rating</th>
      <td mat-cell *matCellDef="let element">{{element.rating}}</td>
    </ng-container>

    <ng-container matColumnDef="Platforms">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Platforms</th>
      <td mat-cell *matCellDef="let element"> <div *ngFor="let x of element.platforms; let i = index">{{ element.platforms[i].name}}</div>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <tr *matNoDataRow class="text-light">
      <td class="px-3">No games found "{{input.value}}"</td>
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="pageSizeOptions" [pageSize]="params.size" [length]="total" (page)="pageChanged($event)" showFirstLastButtons>
  </mat-paginator>

</div> -->
